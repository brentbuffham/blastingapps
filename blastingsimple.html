<!DOCTYPE html>
<html lang="en">

<head>
    <title>HTML BlastCalc - Simple</title>
    <link rel="shortcut icon" href="favicon48.png">
    <meta name="viewport" content="width=device-width, intial-scale=1">
    <link rel="stylesheet" href="styles.css">
</head>

<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-NKJ7R9CK09"></script>
<script>
    window.dataLayer = window.dataLayer || [];

    function gtag() {
        dataLayer.push(arguments);
    }
    gtag('js', new Date());

    gtag('config', 'G-NKJ7R9CK09');
</script>

<body bgcolor="#000000" text="white">
    <form name="calculator">
        <p class="p1">
            <b><font size="3">Super Simple Blasting Calculator Metric</font></b><br />
            <font size="1">Created by Brent Buffham &#169; 2023</font><br />
            <i><font size="1">A simple and quick blasting parameter calculator</font></i>
            <br />
        </p>
        
        <div class="dark-mode-toggle">
          <span class="sun-icon">&#9728;&nbsp;&nbsp;</span>
          <input type="checkbox" id="dark-mode-toggle" placeholder="Toggle mode" />
          <label for="dark-mode-toggle"> </label>
          <span class="moon-icon">&nbsp;&nbsp;&#127768;</span>
        </div>

        <div class="button-container-2col">    
            <a class="button-10" href="index.html">&#8678; Go Back...</a>
            <a class="button-10" href="impblastingsimple.html">Imperial Simple</a>
            <b><font size="3">Pattern Properties</font></b><br />
            <input type="number" step="0.1" min="0.1" max="100.0" id="burden" name="burden" value="4.5">
            <label for="burden" id="burdenLbl">Burden (m)</label>
            <input type="number" step="0.1" min="0.1" max="100.0" id="spacing" name="spacing" value="5.5">
            <label for="spacing" id="spacingLbl">Spacing (m)</label>
            <input type="number" step="0.1" min="0.0" max="100.0" id="bench" name="bench" value="12.0">
            <label for="bench" id="benchLbl">Bench Height (m)</label>
            <input type="number" step="1" min="1" max="20000" id="holes" name="holes" value="500">
            <label for="holes" id="holesLbl">Number of Holes (integer)</label>
            <!-- Hole Specs -->
            <b>Hole Properties</b> <br>
            <input type="number" step="0.1" min="0.0" max="100.0" id="stemming" name="stemming" value="3.5">
            <label for="stemming" id="stemmingLbl">Stemming (m)</label>
            <input type="number" step="1" min="0.0" max="45.0" id="angle" name="angle" value="0.00">
            <label for="angle" id="angleLbl">Angle (&#176;) <i><small>[vertical = 0&#176;]</small></i></label>
            <input type="number" step="0.1" min="0.0" max="100.0" id="subdrill" name="subdrill" value="1.2">
            <label for="subdrill" id="subdrillLbl">Sub Drill (m)</label>
            <input type="number" step="0.001" min="0.025" max="1.000" id="diameter" name="diameter" value="0.165">
            <label for="diameter" id="diameterLbl">Diameter (m)</label>
            <!-- Product Specs -->
            <b>Explosive Properties</b> <br>
            <input type="number" step="0.01" min="0.01" max="5.00" id="productDensity" name="productDensity" value="0.82">
            <label for="productDensity" id="productDensityLbl">Av. Inhole Density (kg/L)</label>
            <!-- Rock Specs -->
            <b>Rock Properties</b> <br>
            <input type="number" step="0.01" min="0.01" max="5.00" id="rockDensity" name="rockDensity" value="2.86">
            <label for="rockDensity" id="rockDensityLbl">Rock Density (kg/L)</label>
        </div>
        <br>
            <b><font size="3">Results</font></b><br><br>   
            <b>Area</b><br>
            <label id="label0">&#9679 Pattern Area = </label>
            <label id="answer0">24.75 </label> <label id="measure0"> m^2</label><br><br>

            <b>Volume</b><br>

            <label id="label18">&#9679 Total Blast Rock Volume = </label>
            <label id="answer18">000.00</label>
            <label id="measure18"> m^3</label><br>
            <label id="label13">&#9679 Hole Charge Length Volume = </label>
            <label id="answer13">849.42</label>
            <label id="measure13"> L</label><br>
            <label id="label7">&#9679 Hole Volume Per Meter = </label>
            <label id="answer7">849.42</label>
            <label id="measure7"> L</label><br><br>

            <b>Explosives</b><br>

            <label id="label17">&#9679 Total Explosives = </label>
            <label id="answer17">000.00</label>
            <label id="measure17"> kg</label><br>
            <label id="label14">&#9679 Hole Charge Length Mass = </label>
            <label id="answer14">849.42</label>
            <label id="measure14"> kg</label><br>
            <label id="label15">&#9679 Charge per meter mass = </label>
            <label id="answer15">000.00</label>
            <label id="measure15"> kg</label><br><br>

            <b>Mass</b><br>

            <label id="label19">&#9679 Total Blast Rock Tonnes = </label>
            <label id="answer19">000.00</label>
            <label id="measure19"> T</label><br>
            <br>
            <b>Powder Factors</b><br>
            <label id="label20">&#9679 Powder Factor Volume = </label>
            <label id="answer20">000.00</label>
            <label id="measure20"> kg/m^3</label><br>
            <label id="label21">&#9679 Powder Factor Tonnes = </label>
            <label id="answer21">000.00</label>
            <label id="measure21"> kg/T</label><br>
            <br>
            <b>Lengths</b><br>
            <label id="label6">&#9679 Hole Length = </label>
            <label id="answer6">13.2</label>
            <label id="measure6"> m</label><br>
            <label id="label11">&#9679 Total Drill Meters = </label>
            <label id="answer11">849.42</label>
            <label id="measure11"> m</label><br>
            <label id="label16">&#9679 Total Charge Meters = </label>
            <label id="answer16">000.00</label>
            <label id="measure16"> m</label><br>
        </div>
        <br>

        <script>
                //Declare Variables
                var burdenVar;
                var spacingVar;
                var benchVar;
                var numberHoles;
                var stemmingVar;
                var angleVar;
                var subdrillVar;
                var diameterVar;
                var prodDensityVar;
                var rockDensityVar;

                //calculations
                //Area
                var patternArea;
                //Volume
                var totalBlastRockVol;
                var chargeVolumeVar;
                var volPerMeterVar;
                //Explosives
                var totalExplosives;
                var chargeMassVar;
                var chargePerMeter;
                //Mass
                var totalBlastRockTon;
                //Powderfactors
                var powderFactorVol;
                var powderFactorTon;
                //Lengths
                var holeLength;
                var totalDrillMetersVar;
                var totalChargeMeters;

                var sinAngleVar;
                var verticalLength;
                var holeRadius;

                window.onload = function() {
                    retrieveUserInputs();// Call the first function
                    myCalc();  // Call the second function
                };

                //Change Event on Burden Amount
                document.getElementById('burden').onchange = function() {
                    saveUserInputs();
                    myCalc();
                };
                //Change Event on Spacing Amount
                document.getElementById('spacing').onchange = function() {
                    saveUserInputs();
                    myCalc();
                };
                //Change Event on Bench Height Amount
                document.getElementById('bench').onchange = function() {
                    saveUserInputs();
                    myCalc();
                };
                //Change Event on Number of Holes Amount
                document.getElementById('holes').onchange = function() {
                    saveUserInputs();
                    myCalc();
                };
                //Change Event on Stemming Length Amount
                document.getElementById('stemming').onchange = function() {
                    saveUserInputs();
                    myCalc();
                };
                //Change Event on Angle Amount
                document.getElementById('angle').onchange = function() {
                    saveUserInputs();
                    myCalc();
                };
                //Change Event on Sub Drill Amount
                document.getElementById('subdrill').onchange = function() {
                    saveUserInputs();
                    myCalc();
                };
                //Change Event on Diameter Amount
                document.getElementById('diameter').onchange = function() {
                    saveUserInputs();
                    myCalc();
                };
                //Change Event on Product Density Amount
                document.getElementById('productDensity').onchange = function() {
                    saveUserInputs();
                    myCalc();
                };
                //Change Event on Rock Density Amount
                document.getElementById('rockDensity').onchange = function() {
                    saveUserInputs();
                    myCalc();
                };

                //Calculate All Results
                function myCalc() {

                    //Variables
                    burdenVar = parseFloat(document.getElementById('burden').value);
                    spacingVar = parseFloat(document.getElementById('spacing').value);
                    benchVar = parseFloat(document.getElementById('bench').value);
                    numberHoles = parseFloat(document.getElementById('holes').value);
                    stemmingVar = parseFloat(document.getElementById('stemming').value);
                    angleVar = parseFloat(document.getElementById('angle').value);
                    subdrillVar = parseFloat(document.getElementById('subdrill').value);
                    diameterVar = parseFloat(document.getElementById('diameter').value);

                    rockDensityVar = parseFloat(document.getElementById('rockDensity').value);
                    prodDensityVar = parseFloat(document.getElementById('productDensity').value);

                    //calculations
                    patternArea = burdenVar * spacingVar * numberHoles;
                    sinAngleVar = Math.sin((90 - angleVar) * (Math.PI / 180));
                    verticalLength = benchVar + subdrillVar;
                    holeLength = verticalLength / sinAngleVar;
                    holeRadius = (diameterVar / 2) * 1000;
                    volPerMeterVar = (Math.PI * Math.pow(holeRadius, 2)) / 1000;
                    volPerHoleVar = volPerMeterVar * holeLength;
                    volPerStemmingLength = volPerMeterVar * stemmingVar;
                    chargeVolumeVar = volPerHoleVar - volPerStemmingLength;
                    chargeMassVar = chargeVolumeVar * prodDensityVar;
                    totalDrillMetersVar = holeLength * numberHoles;
                    chargePerMeter = volPerMeterVar * prodDensityVar;
                    totalChargeMeters = (holeLength - stemmingVar) * numberHoles;
                    totalExplosives = chargeMassVar * numberHoles;
                    totalBlastRockVol = burdenVar * spacingVar * benchVar * numberHoles;
                    totalBlastRockTon = burdenVar * spacingVar * benchVar * numberHoles * rockDensityVar;
                    powderFactorVol = totalExplosives / totalBlastRockVol;
                    powderFactorTon = totalExplosives / totalBlastRockTon;



                    console.log('Calculations Triggered...');

                    //Area
                    document.getElementById('answer0').innerHTML = patternArea.toFixed(2);
                    //Volume 
                    document.getElementById('answer18').innerHTML = totalBlastRockVol.toFixed(2);
                    document.getElementById('answer13').innerHTML = chargeVolumeVar.toFixed(2);
                    document.getElementById('answer7').innerHTML = volPerMeterVar.toFixed(2);
                    //Explosives
                    document.getElementById('answer17').innerHTML = totalExplosives.toFixed(2);
                    document.getElementById('answer14').innerHTML = chargeMassVar.toFixed(2);
                    document.getElementById('answer15').innerHTML = chargePerMeter.toFixed(2);
                    //Mass
                    document.getElementById('answer19').innerHTML = totalBlastRockTon.toFixed(2);
                    //Powderfactors
                    document.getElementById('answer20').innerHTML = powderFactorVol.toFixed(2);
                    document.getElementById('answer21').innerHTML = powderFactorTon.toFixed(2);
                    //Lengths
                    document.getElementById('answer6').innerHTML = holeLength.toFixed(2);
                    document.getElementById('answer11').innerHTML = totalDrillMetersVar.toFixed(2);
                    document.getElementById('answer16').innerHTML = totalChargeMeters.toFixed(2);

                    return;
                }

                function email() {
                    //Email Body Text Goes Here   
                    var line01 = "%0D%0A%0D%0ABurden%20(m)%20=%20" + burdenVar.toFixed(2);
                    var line02 = "%0D%0ASpacing%20(m)%20=%20" + spacingVar.toFixed(2);
                    var line03 = "%0D%0ABench Height (m) = " + benchVar.toFixed(2);
                    var line04 = "%0D%0ANumber of holes (#) = " + numberHoles;
                    var line05 = "%0D%0AStemming Length (m) = " + stemmingVar.toFixed(2);
                    var line06 = "%0D%0AAngle (degs) = " + angleVar.toFixed(2);
                    var line07 = "%0D%0ASub Drill (m) = " + subdrillVar.toFixed(2);
                    var line08 = "%0D%0ADiameter (m) = " + diameterVar.toFixed(3);
                    var line09 = "%0D%0AProduct Density (m) = " + prodDensityVar.toFixed(2);
                    var line10 = "%0D%0ARock Density (kg/L) = " + rockDensityVar.toFixed(2) +
                        "%0D%0A"
                    var line11 = "%0D%0APattern Area (m^2) = " + patternArea.toFixed(2) +
                        "%0D%0A"
                    var line12 = "%0D%0ATotal Blast Rock Volume (m^3) = " + totalBlastRockVol.toFixed(2);
                    var line13 = "%0D%0AHole Charge Length Volume (L) = " + chargeVolumeVar.toFixed(2);
                    var line14 = "%0D%0AHole Volume Per Meter (L) = " + volPerMeterVar.toFixed(2) +
                        "%0D%0A";
                    var line15 = "%0D%0ATotal Explosives (kg) = " + totalExplosives.toFixed(2);
                    var line16 = "%0D%0AHole Charge Length Mass (kg) = " + chargeMassVar.toFixed(2);
                    var line17 = "%0D%0ACharge per Meter Mass (kg) = " + chargePerMeter.toFixed(2) +
                        "%0D%0A";
                    var line18 = "%0D%0ATotal Blast Rock Tonnes (T) = " + totalBlastRockTon.toFixed(2); +
                    "%0D%0A";
                    var line19 = "%0D%0APowder Factor Volume (kg/m^3) = " + powderFactorVol.toFixed(2);
                    var line20 = "%0D%0APowder Factor Tonnes (kg/T) = " + powderFactorTon.toFixed(2) +
                        "%0D%0A";
                    var line21 = "%0D%0AHole Length (m) = " + holeLength.toFixed(2);
                    var line22 = "%0D%0ATotal Drill Meters (m) = " + totalDrillMetersVar.toFixed(2);
                    var line23 = "%0D%0ATotal Charge Meters (m) = " + totalChargeMeters.toFixed(2);
                    var line24 =
                        "%0D%0A%0D%0A%0D%0AThis%20calculator%20was%20first%20published%20as%20BlastCalc%20on%20the%20Apple%20App%20Store%20as%20a%20native%20iPhone%20and%20iPad%20app%20in%202010.%20Now%20re-coded%20for%20you%20to%20enjoy.%0D%0ABrent%20Buffham.%202021";

                    window.location.href =
                        'mailto:?subject=Blasting%20Calculations%20and%20Statistics&body=Blasting%20Calculations%20and%20Statistics' +
                        line01 + line02 + line03 + line04 + line05 + line06 + line07 + line08 + line09 + line10 +
                        line11 + line12 + line13 + line14 + line15 + line16 + line17 + line18 + line19 + line20 +
                        line21 + line22 + line23 + line24;
                }

                // Save user inputs to local storage
                function saveUserInputs() {
                  // Get the input elements
                  var inputs = document.getElementsByTagName('input');
                
                  // Save each input's value to local storage
                  for (var i = 0; i < inputs.length; i++) {
                    var input = inputs[i];
                    localStorage.setItem(input.id, input.value);
                  }
                }

                // Retrieve user inputs from local storage
                function retrieveUserInputs() {
                  // Get the input elements
                  var inputs = document.getElementsByTagName('input');
                
                  // Retrieve and set each input's value from local storage
                  for (var i = 0; i < inputs.length; i++) {
                    var input = inputs[i];
                    var storedValue = localStorage.getItem(input.id);
                    if (storedValue !== null) {
                      input.value = storedValue;
                    }
                  }
                }
                //End script
        </script>
        
        <div class="button-container-1col">
            <a class="button-10" onClick="email()"> SEND CALCS BY EMAIL &#8680;</a>
        </div>
        <br>
        <b><font size="2">Important Notice</font></b><br />
            <i><font size="1">By using or accessing the tools on this website you acknowledge that Brent Buffham is not responsible for any misuse or discissions that result in harm, physical, mental or financial to any real or artificial person. You also acknowledge that responsibility
                for outcomes made using information from this website is your responsibility.
                <br><br>
            </i>
            <b><font size="2">A gift to the blasting community</font></b><br>
            <i>
                Some of these calculators were first published as "BlastCalc" and VibeSD on the Apple iOS App Store as a native iPhone and iPad app in 2010. The publisher was Chin-Apse Pty. Ltd. Now days modern browsers support HTML and CSS better, as
                such the apps that died on the Apple Store can now live again. These and the other apps here are free for your use and a gift to the blasting community.  I hope that these give you assistance and education. If you feel these are helpful please consider supporting me by following my youtube or buying me a coffee, both the links are below. All code is in HTML/JS/CSS.
                <br> Thank you.  Brent Buffham &#169; 2023.</font>
            </i>
            <br>
            <br>
            <b><font size="2">Visit Brent's YouTube (Reduntantly Useful)</font></b><br>
            <div class="button-container-1col">
            <a class="button-10" href="https://www.youtube.com/channel/UCDiDCgRijZrV_rO9I7fCL6w">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="black" class="bi bi-youtube" viewBox="0 0 16 13">
            <path d="M8.051 1.999h.089c.822.003 4.987.033 6.11.335a2.01 2.01 0 0 1 1.415 1.42c.101.38.172.883.22 1.402l.01.104.022.26.008.104c.065.914.073 1.77.074 1.957v.075c-.001.194-.01 1.108-.082 2.06l-.008.105-.009.104c-.05.572-.124 1.14-.235 1.558a2.007 2.007 0 0 1-1.415 1.42c-1.16.312-5.569.334-6.18.335h-.142c-.309 0-1.587-.006-2.927-.052l-.17-.006-.087-.004-.171-.007-.171-.007c-1.11-.049-2.167-.128-2.654-.26a2.007 2.007 0 0 1-1.415-1.419c-.111-.417-.185-.986-.235-1.558L.09 9.82l-.008-.104A31.4 31.4 0 0 1 0 7.68v-.123c.002-.215.01-.958.064-1.778l.007-.103.003-.052.008-.104.022-.26.01-.104c.048-.519.119-1.023.22-1.402a2.007 2.007 0 0 1 1.415-1.42c.487-.13 1.544-.21 2.654-.26l.17-.007.172-.006.086-.003.171-.007A99.788 99.788 0 0 1 7.858 2h.193zM6.4 5.209v4.818l4.157-2.408L6.4 5.209z"></path>
            </svg>
            Redundantly Useful's Channel
        </a>
        </div>
        </p>
        <p class="p1">
            <b><font size="2">Support blastingapps.xyz to continue to supply these as free.</font></b>
            <br>
        </p>
        <a href="https://www.buymeacoffee.com/BrentBuffham">
            <img src="https://img.buymeacoffee.com/button-api/?text=Buy Brent a coffee&emoji=&slug=BrentBuffham&button_colour=FFDD00&font_colour=000000&font_family=Cookie&outline_colour=000000&coffee_colour=ffffff" alt="Buy me a coffee" />
          </a>
    </form>
    <script>
        const darkModeToggle = document.getElementById("dark-mode-toggle");
        const body = document.body;
  
        // Check if dark mode preference exists in local storage
        const darkModePref = localStorage.getItem("darkMode");
        if (darkModePref === "true") {
          body.classList.add("dark-mode");
          darkModeToggle.checked = true;
        }
  
        darkModeToggle.addEventListener("change", () => {
          if (darkModeToggle.checked) {
            body.classList.add("dark-mode");
            localStorage.setItem("darkMode", "true");
          } else {
            body.classList.remove("dark-mode");
            localStorage.setItem("darkMode", "false");
          }
        });
      </script>
</body>

</html>